import{d as r,o,b as i,i as c,t as u,v as l}from"./index.f8ca9675.js";var a=r({name:"Vue3Paystack",props:{buttonClass:{type:String,default:""},buttonText:{type:String,default:""},publicKey:{type:String,requird:!0},email:{type:String,required:!0},amount:{type:Number,required:!0},reference:{type:String,required:!0},currency:{type:String,default:"NGN"},onSuccess:{type:Function,default:function(t){console.log(t)}},onCancel:{type:Function,default:function(){console.log("payment closed")}},channels:{type:Array,default:function(){return["card","bank","ussd","qr","mobile_money"]}},metadata:{type:Object,default:function(){return{}}},label:{type:String,default:""}},async created(){this.mountScript().then(()=>{this.hasScriptLoaded=!0})},data(){return{hasScriptLoaded:!1}},methods:{async mountScript(){return new Promise((t,n)=>{const e=document.createElement("script");e.setAttribute("src","https://js.paystack.co/v2/inline.js"),e.setAttribute("type","text/javascript"),document.head.appendChild(e),e.onload=()=>t(),e.onerror=()=>n()})},payWithPaystack(){const t={key:this.publicKey,email:this.email,amount:this.amount,reference:this.reference,currency:this.currency,channels:this.channels,metadata:this.metadata,label:this.label,onSuccess:e=>{this.onSuccess(e)},onCanel:()=>{this.onCanel()}};new window.PaystackPop().newTransaction(t)}}});const p=["disabled"];function d(t,n,e,y,m,h){return o(),i("button",{disabled:!t.hasScriptLoaded,class:l(t.buttonClass),onClick:n[0]||(n[0]=(...s)=>t.payWithPaystack&&t.payWithPaystack(...s))},[c("span",null,u(t.buttonText),1)],10,p)}a.render=d;var f=(()=>{const t=a;return t.install=n=>{n.component("Vue3Paystack",t)},t})();export{f as e};
