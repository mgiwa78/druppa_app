import{d as g,G as b,Y as m,c as w,_ as k,b as c,i as f,z as O,ac as B,x as $,F as A,e as p,o as i,v as L,aa as F,p as P,t as q,ag as I,l as V,j as T,y as j,ao as _,k as h,w as x}from"./index.f8ca9675.js";import{T as R}from"./TableFooter.3f00d523.js";const M=g({name:"table-head-row",props:{checkboxEnabledValue:{type:Boolean,required:!1,default:!1},checkboxEnabled:{type:Boolean,required:!1,default:!1},sortLabel:{type:String,required:!1,default:null},sortOrder:{type:String,required:!1,default:"asc"},header:{type:Array,required:!0}},emits:["on-select","on-sort"],components:{},setup(e,{emit:r}){const t=b(!1),a=b({label:e.sortLabel,order:e.sortOrder});m(()=>e.checkboxEnabledValue,u=>{t.value=u});const l=()=>{r("on-select",t.value)},s=(u,n)=>{n&&(a.value.label===u?a.value.order==="asc"?a.value.order="desc":a.value.order==="desc"&&(a.value.order="asc"):(a.value.order="asc",a.value.label=u),r("on-sort",a.value))},o=w(()=>a.value.order==="asc"?"&#x2191;":"&#x2193;");return{onSort:s,selectAll:l,checked:t,sortArrow:o,columnLabelAndOrder:a}}}),U={class:"text-start text-gray-400 fw-bold fs-7 text-uppercase gs-0"},H={key:0,style:{width:"30px"}},W={class:"form-check form-check-sm form-check-custom form-check-solid me-3"},z=["onClick"],G=["innerHTML"];function Y(e,r,t,a,l,s){return i(),c("thead",null,[f("tr",U,[e.checkboxEnabled?(i(),c("th",H,[f("div",W,[O(f("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":r[0]||(r[0]=o=>e.checked=o),onChange:r[1]||(r[1]=o=>e.selectAll())},null,544),[[B,e.checked]])])])):$("",!0),(i(!0),c(A,null,p(e.header,(o,u)=>(i(),c("th",{key:u,class:L({"text-end":u===e.header.length-1}),onClick:n=>e.onSort(o.columnLabel,o.sortEnabled),style:F({minWidth:o.columnWidth?`${o.columnWidth}px`:"0",width:"auto",cursor:o.sortEnabled?"pointer":"auto"})},[P(q(o.columnName)+" ",1),e.columnLabelAndOrder.label===o.columnLabel&&o.sortEnabled?(i(),c("span",{key:0,innerHTML:e.sortArrow},null,8,G)):$("",!0)],14,z))),128))])])}const J=k(M,[["render",Y]]),K=g({name:"table-body-row",components:{},props:{header:{type:Array,required:!0},data:{type:Array,required:!0},currentlySelectedItems:{type:Array,required:!1,default:()=>[]},checkboxEnabled:{type:Boolean,required:!1,default:!1},checkboxLabel:{type:String,required:!1,default:"id"}},emits:["on-select"],setup(e,{emit:r}){const t=b([]);return m(()=>[...e.currentlySelectedItems],l=>{e.currentlySelectedItems.length!==0?t.value=[...new Set([...t.value,...l])]:t.value=[]}),{selectedItems:t,onChange:()=>{r("on-select",t.value)}}}}),Q={class:"fw-semibold text-gray-600"},X={key:0},Z={class:"form-check form-check-sm form-check-custom form-check-solid"},ee=["value"];function te(e,r,t,a,l,s){return i(),c("tbody",Q,[(i(!0),c(A,null,p(e.data,(o,u)=>(i(),c("tr",{key:u},[e.checkboxEnabled?(i(),c("td",X,[f("div",Z,[O(f("input",{class:"form-check-input",type:"checkbox",value:o[e.checkboxLabel],"onUpdate:modelValue":r[0]||(r[0]=n=>e.selectedItems=n),onChange:r[1]||(r[1]=(...n)=>e.onChange&&e.onChange(...n))},null,40,ee),[[B,e.selectedItems]])])])):$("",!0),(i(!0),c(A,null,p(e.header,(n,d)=>(i(),c("td",{key:d,class:L({"text-end":d===e.header.length-1})},[I(e.$slots,`${n.columnLabel}`,{row:o},()=>[P(q(o),1)])],2))),128))]))),128))])}const re=k(K,[["render",te]]),ae=g({name:"kt-loading",components:{}}),ne={class:"overlay-layer card-rounded bg-dark bg-opacity-5"},oe=f("div",{class:"spinner-border text-primary",role:"status"},[f("span",{class:"visually-hidden"},"Loading...")],-1),le=[oe];function se(e,r,t,a,l,s){return i(),c("div",ne,le)}const ue=k(ae,[["render",se]]),de=g({name:"table-body",props:{header:{type:Array,required:!0},data:{type:Array,required:!0},emptyTableText:{type:String,default:"No data found"},sortLabel:{type:String,required:!1,default:null},sortOrder:{type:String,required:!1,default:"asc"},checkboxEnabled:{type:Boolean,required:!1,default:!1},checkboxLabel:{type:String,required:!1,default:"id"},loading:{type:Boolean,required:!1,default:!1}},emits:["on-sort","on-items-select"],components:{TableHeadRow:J,TableBodyRow:re,Loading:ue},setup(e,{emit:r}){const t=b([]),a=b([]),l=b(!1);m(()=>e.data,()=>{t.value=[],a.value=[],l.value=!1,e.data.forEach(n=>{n[e.checkboxLabel]&&a.value.push(n[e.checkboxLabel])})});const s=n=>{l.value=n,n?t.value=[...new Set([...t.value,...a.value])]:t.value=[]},o=n=>{t.value=[],n.forEach(d=>{t.value.includes(d)||t.value.push(d)})},u=n=>{r("on-sort",n)};return m(()=>[...t.value],n=>{n&&r("on-items-select",n)}),V(()=>{t.value=[],a.value=[],l.value=!1,e.data.forEach(n=>{n[e.checkboxLabel]&&a.value.push(n[e.checkboxLabel])})}),{onSort:u,selectedItems:t,selectAll:s,itemsSelect:o,check:l}}}),ie={class:"table-responsive"},ce={key:1,class:"odd"},fe={colspan:"7",class:"dataTables_empty"};function be(e,r,t,a,l,s){const o=h("TableHeadRow"),u=h("TableBodyRow"),n=h("Loading");return i(),c("div",ie,[f("table",{class:L([[e.loading&&"overlay overlay-block"],"table align-middle table-row-dashed fs-6 gy-5 dataTable no-footer"])},[T(o,{onOnSort:e.onSort,onOnSelect:e.selectAll,checkboxEnabledValue:e.check,checkboxEnabled:e.checkboxEnabled,"sort-label":e.sortLabel,"sort-order":e.sortOrder,header:e.header},null,8,["onOnSort","onOnSelect","checkboxEnabledValue","checkboxEnabled","sort-label","sort-order","header"]),e.data.length!==0?(i(),j(u,{key:0,onOnSelect:e.itemsSelect,currentlySelectedItems:e.selectedItems,data:e.data,header:e.header,"checkbox-enabled":e.checkboxEnabled,"checkbox-label":e.checkboxLabel},_({_:2},[p(e.$slots,(d,v)=>({name:v,fn:x(({row:D})=>[I(e.$slots,v,{row:D})])}))]),1032,["onOnSelect","currentlySelectedItems","data","header","checkbox-enabled","checkbox-label"])):(i(),c("tr",ce,[f("td",fe,q(e.emptyTableText),1)])),e.loading?(i(),j(n,{key:2})):$("",!0)],2)])}const ye=k(de,[["render",be]]),he=g({name:"kt-datatable",props:{header:{type:Array,required:!0},data:{type:Array,required:!0},itemsPerPage:{type:Number,default:10},itemsPerPageDropdownEnabled:{type:Boolean,required:!1,default:!0},checkboxEnabled:{type:Boolean,required:!1,default:!1},checkboxLabel:{type:String,required:!1,default:"id"},total:{type:Number,required:!1},loading:{type:Boolean,required:!1,default:!1},sortLabel:{type:String,required:!1,default:null},sortOrder:{type:String,required:!1,default:"asc"},emptyTableText:{type:String,required:!1,default:"No data found"},currentPage:{type:Number,required:!1,default:1}},emits:["page-change","on-sort","on-items-select","on-items-per-page-change"],components:{TableContent:ye,TableFooter:R},setup(e,{emit:r}){const t=b(e.currentPage),a=b(e.itemsPerPage);m(()=>a.value,d=>{t.value=1,r("on-items-per-page-change",d)});const l=d=>{t.value=d,r("page-change",d)},s=w(()=>{if(e.data){if(e.data.length<=a.value)return e.data;{let d=(t.value-1)*a.value;return e.data.slice(d,d+a.value)}}return[]}),o=w(()=>e.data?e.data.length<=a.value?e.total:e.data.length:0);return{pageChange:l,dataToDisplay:s,onSort:d=>{r("on-sort",d)},onItemSelect:d=>{r("on-items-select",d)},itemsInTable:a,totalItems:o}}}),me={class:"dataTables_wrapper dt-bootstrap4 no-footer"};function pe(e,r,t,a,l,s){const o=h("TableContent"),u=h("TableFooter");return i(),c("div",me,[T(o,{onOnItemsSelect:e.onItemSelect,onOnSort:e.onSort,header:e.header,data:e.dataToDisplay,checkboxEnabled:e.checkboxEnabled,checkboxLabel:e.checkboxLabel,"empty-table-text":e.emptyTableText,"sort-label":e.sortLabel,"sort-order":e.sortOrder,loading:e.loading},_({_:2},[p(e.$slots,(n,d)=>({name:d,fn:x(({row:v})=>[I(e.$slots,d,{row:v})])}))]),1032,["onOnItemsSelect","onOnSort","header","data","checkboxEnabled","checkboxLabel","empty-table-text","sort-label","sort-order","loading"]),T(u,{onPageChange:e.pageChange,"current-page":e.currentPage,itemsPerPage:e.itemsInTable,"onUpdate:itemsPerPage":r[0]||(r[0]=n=>e.itemsInTable=n),count:e.totalItems,"items-per-page-dropdown-enabled":e.itemsPerPageDropdownEnabled},null,8,["onPageChange","current-page","itemsPerPage","count","items-per-page-dropdown-enabled"])])}const je=k(he,[["render",pe]]);var ge=Object.prototype.toString,N=function(r){var t=typeof r;return t==="undefined"?"undefined":r===null?"null":r===!0||r===!1||r instanceof Boolean?"boolean":t==="string"||r instanceof String?"string":t==="number"||r instanceof Number?"number":t==="function"||r instanceof Function?typeof r.constructor.name<"u"&&r.constructor.name.slice(0,9)==="Generator"?"generatorfunction":"function":typeof Array.isArray<"u"&&Array.isArray(r)?"array":r instanceof RegExp?"regexp":r instanceof Date?"date":(t=ge.call(r),t==="[object RegExp]"?"regexp":t==="[object Date]"?"date":t==="[object Arguments]"?"arguments":t==="[object Error]"?"error":t==="[object Promise]"?"promise":ke(r)?"buffer":t==="[object Set]"?"set":t==="[object WeakSet]"?"weakset":t==="[object Map]"?"map":t==="[object WeakMap]"?"weakmap":t==="[object Symbol]"?"symbol":t==="[object Map Iterator]"?"mapiterator":t==="[object Set Iterator]"?"setiterator":t==="[object String Iterator]"?"stringiterator":t==="[object Array Iterator]"?"arrayiterator":t==="[object Int8Array]"?"int8array":t==="[object Uint8Array]"?"uint8array":t==="[object Uint8ClampedArray]"?"uint8clampedarray":t==="[object Int16Array]"?"int16array":t==="[object Uint16Array]"?"uint16array":t==="[object Int32Array]"?"int32array":t==="[object Uint32Array]"?"uint32array":t==="[object Float32Array]"?"float32array":t==="[object Float64Array]"?"float64array":"object")};function ke(e){return e.constructor&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}var y=N,ve=function(r,t,a){if(a!=null&&y(a)!=="string")throw new TypeError('expected "prop" to be undefined or a string');var l=y(r),s=y(t);return a&&(l==="object"&&(r=r[a],l=y(r)),s==="object"&&(t=t[a],s=y(t))),l==="null"?s==="null"?0:s==="undefined"?-1:1:l==="undefined"?s==="null"?1:s==="undefined"?0:1:s==="null"||s==="undefined"||r<t?-1:r>t?1:0};/*!
 * get-value <https://github.com/jonschlinkert/get-value>
 *
 * Copyright (c) 2014-2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var Se=function(e,r,t,a,l){if(!$e(e)||!r)return e;if(r=S(r),t&&(r+="."+S(t)),a&&(r+="."+S(a)),l&&(r+="."+S(l)),r in e)return e[r];for(var s=r.split("."),o=s.length,u=-1;e&&++u<o;){for(var n=s[u];n[n.length-1]==="\\";)n=n.slice(0,-1)+"."+s[++u];e=e[n]}return e};function $e(e){return e!==null&&(typeof e=="object"||typeof e=="function")}function S(e){return e?Array.isArray(e)?e.join("."):e:""}/*!
 * array-sort <https://github.com/jonschlinkert/array-sort>
 *
 * Copyright (c) 2015-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var we=ve,Ae=N,C=Se;function Te(e,r,t){if(e==null)return[];if(!Array.isArray(e))throw new TypeError("array-sort expects an array.");if(arguments.length===1)return e.sort();var a=Le([].slice.call(arguments,1));return Ae(a[a.length-1])==="object"&&(t=a.pop()),e.sort(Ee(a,t))}function Ee(e,r){return r=r||{},function(a,l){for(var s=e.length,o=-1,u;++o<s&&(u=E(e[o],a,l),u===0););return r.reverse===!0?u*-1:u}}function E(e,r,t){return typeof e=="function"?e(r,t,E.bind(null,null)):e&&typeof r=="object"&&typeof t=="object"?E(null,C(r,e),C(t,e)):we(r,t)}function Le(e){return[].concat.apply([],e)}var Ce=Te;export{je as D,Ce as a};
