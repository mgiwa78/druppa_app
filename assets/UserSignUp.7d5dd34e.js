var A=Object.defineProperty;var U=(s,e,a)=>e in s?A(s,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):s[e]=a;var d=(s,e,a)=>(U(s,typeof e!="symbol"?e+"":e,a),a);import{g as L}from"./assets.6f11792f.js";import{al as E,d as x,a6 as F,a7 as I,a5 as Q,u as M,G as V,l as T,W as B,a4 as P,m as $,n as O,_ as R,b as f,j as i,w as _,k as y,o as v,i as t,p as k,z as G,am as z,an as j,F as S,e as N,t as C,x as H}from"./index.f8ca9675.js";import{c as W,a as p,b as Y}from"./object.a52185a5.js";import{S as Z}from"./sweetalert2.d8000a3b.js";import{s as J,c as K}from"./citiesInNigeria.a5c184d7.js";import{E as X}from"./errorHandler.ce533688.js";import{u as ee}from"./statics.eeafb3d7.js";const D={minLength:8,checkUppercase:!0,checkLowercase:!0,checkDigit:!0,checkChar:!0,scoreHighlightClass:"active"},w={componentName:"password-meter",instanseQuery:"[data-kt-password-meter]",inputQuery:"input[type]",visibilityQuery:'[data-kt-password-meter-control="visibility"]',highlightQuery:'[data-kt-password-meter-control="highlight"]'},g=class{constructor(e,a,c){d(this,"element");d(this,"inputElement");d(this,"visibilityElement");d(this,"highlightElement");d(this,"options");d(this,"queries");d(this,"score");d(this,"checkSteps");d(this,"reset",()=>{this.score=0,this.highlight()});this.element=e,this.options=Object.assign(D,a),this.queries=c,this.score=0,this.checkSteps=5,this.inputElement=this.element.querySelector(this.queries.inputQuery),this.visibilityElement=this.element.querySelector(this.queries.visibilityQuery),this.highlightElement=this.element.querySelector(this.queries.highlightQuery),this.handlers(),E.set(this.element,this.queries.componentName,this)}handlers(){this.inputElement&&this.inputElement.addEventListener("input",()=>{this.check()}),this.visibilityElement&&this.visibilityElement.addEventListener("click",()=>{this.visitbility()})}visitbility(){if(this.visibilityElement&&this.inputElement){const e=this.visibilityElement.querySelector("i:not(.d-none), .svg-icon:not(.d-none)"),a=this.visibilityElement.querySelector("i.d-none, .svg-icon.d-none");(this.inputElement.getAttribute("type")||"")==="password"?this.inputElement.setAttribute("type","text"):this.inputElement.setAttribute("type","password"),e==null||e.classList.add("d-none"),a==null||a.classList.remove("d-none"),this.inputElement.focus()}}checkScore(){return 0}checkLength(){return this.inputElement?this.inputElement.value.length>=this.options.minLength:!1}checkLowerCase(){const e=this.inputElement?this.inputElement.value:"";return/[a-z]/.test(e)}checkUppercase(){const e=this.inputElement?this.inputElement.value:"";return/[A-Z]/.test(e)}checkDigit(){const e=this.inputElement?this.inputElement.value:"";return/[0-9]/.test(e)}checkChar(){const e=this.inputElement?this.inputElement.value:"";return/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g.test(e)}getCheckScore(){let e=1;return this.options.checkUppercase&&e++,this.options.checkLowercase&&e++,this.options.checkDigit&&e++,this.options.checkChar&&e++,this.checkSteps=e,100/this.checkSteps}highlight(){const e=this.highlightElement?[].slice.call(this.highlightElement.querySelectorAll("div")):[],a=e.length;let c=0;const l=this.getCheckScore(),m=this.getScore();e.map(u=>{c++,l*c*(this.checkSteps/a)<=m?u.classList.add("active"):u.classList.remove("active")})}getScore(){return this.score}check(){let e=0;const a=this.getCheckScore();this.checkLength()&&(e=e+a),this.options.checkUppercase&&this.checkLowerCase()&&(e=e+a),this.options.checkLowercase&&this.checkUppercase()&&(e=e+a),this.options.checkDigit&&this.checkDigit()&&(e=e+a),this.options.checkChar&&this.checkChar()&&(e=e+a),this.score=e,this.highlight()}};let b=g;d(b,"getInstance",(e,a=w.componentName)=>{const c=E.get(e,a);if(c)return c}),d(b,"createInstances",(e=w.instanseQuery,a=D,c=w)=>{document.body.querySelectorAll(e).forEach(m=>{const u=m;let n=g.getInstance(u);n||(n=new g(u,a,c))})}),d(b,"createInsance",(e=w.instanseQuery,a=D,c=w)=>{const l=document.body.querySelector(e);if(!l)return;const m=l;let u=g.getInstance(m);return u||(u=new g(m,a,c)),u}),d(b,"bootstrap",(e=w.instanseQuery)=>{g.createInstances(e)}),d(b,"reinitialization",(e=w.instanseQuery)=>{g.createInstances(e)});const te=x({name:"user-sign-up",components:{Field:F,VForm:I,ErrorMessage:Q},setup(){const{API_URL:s}=$,e=M(),a=ee(),c=O(),l=V({firstName:"",lastName:"",email:"",address:"",state:"",userName:"",gender:"",city:"",password:"",title:"",phone_number:""}),m=V(null),u=W().shape({firstName:p().required().label("First Name"),lastName:p().required().label("Last Name"),email:p().required().email().label("Email"),gender:p().required().label("Gender"),phone_number:p().min(11).max(11).required().label("Phone number"),state:p().required().label("State"),city:p().required().label("City"),address:p().required().label("Address"),password:p().required().label("Password"),password_confirmation:p().required().oneOf([Y("password"),null],"Passwords must match").label("Password Confirmation")});T(()=>{B(()=>{b.bootstrap()})});const n=async()=>{const r=new FormData;r.append("firstName",l.value.firstName),r.append("lastName",l.value.lastName),r.append("email",l.value.email),r.append("password",l.value.password),r.append("gender",l.value.gender),r.append("state",l.value.state),r.append("title",l.value.title),r.append("phone_number",l.value.phone_number),r.append("address",l.value.address),r.append("city",l.value.city),r.append("type","Customer"),P.post(s+"register",r).then(o=>{Z.fire({text:"You Account has been created, Sign in Now!",icon:"success",buttonsStyling:!1,confirmButtonText:"Ok!",heightAuto:!1,customClass:{confirmButton:"btn fw-semobold btn-light-primary"}}).then(()=>{c.push({name:"sign-in"})})}).catch(o=>{console.log(o),X(o)})};return{registration:u,onSubmitRegister:async()=>{var r,o;e.resetStore(),a.resetStore(),m.value.disabled=!0,(r=m.value)==null||r.setAttribute("data-kt-indicator","on"),await n(),(o=m.value)==null||o.removeAttribute("data-kt-indicator"),m.value.disabled=!1},submitButton:m,getAssetPath:L,statesInNigeria:J,citiesInNigeria:K,newCustomerData:l}}}),se={class:"w-lg-500px p-10"},oe={class:"mb-10 text-center"},ae=t("h1",{class:"text-dark mb-3"},"Create an Account",-1),ie={class:"text-gray-400 fw-semobold fs-4"},le={class:"row fv-row mb-7"},ne={class:"col-xl-12"},re=t("label",{class:"form-label fw-bold text-dark fs-6"},"First Name",-1),ce={class:"fv-plugins-message-container"},de={class:"fv-help-block"},me={class:"col-xl-12"},ue=t("label",{class:"form-label fw-bold text-dark fs-6"},"Last Name",-1),he={class:"fv-plugins-message-container"},pe={class:"fv-help-block"},fe={class:"mb-5 mt-2 row"},ve={class:"col-6"},be=t("label",{class:"fw-bold required fs-5 fw-semobold mb-2"},"Title",-1),ge=t("option",{value:""},"Select a Title...",-1),_e=t("option",{value:"Mr"},"Mr",-1),we=t("option",{value:"Mrs"},"Mrs",-1),ke=t("option",{value:"Ms"},"Ms",-1),ye=t("option",{value:"Dr"},"Dr",-1),Se={class:"fv-plugins-message-container"},Ce={class:"fv-help-block"},De={class:"col-6"},Ee=t("label",{class:"fw-bold required fs-5 fw-semobold mb-2"},"Gender",-1),Ve=t("option",{value:""},"Select a Gender...",-1),Ne=t("option",{value:"male"},"Male",-1),qe=t("option",{value:"female"},"Female",-1),Ae={class:"fv-plugins-message-container"},Ue={class:"fv-help-block"},Le={class:"col-xl-12"},xe=t("label",{class:"fw-bold required fs-5 fw-semobold mb-2"},"Address",-1),Fe={class:"fv-plugins-message-container"},Ie={class:"fv-help-block"},Qe={class:"col-xl-12"},Me=t("label",{class:"fw-bold required fs-5 fw-semobold mb-2"},"State",-1),Te=t("option",{value:""},"Select a State...",-1),Be=["value"],Pe={class:"fv-plugins-message-container"},$e={class:"fv-help-block"},Oe={class:"col-xl-12"},Re=t("label",{class:"form-label fw-bold text-dark fs-6"},"City",-1),Ge={key:0,selected:"",value:""},ze=["value"],je=["value"],He={key:2,selected:"",value:""},We={class:"fv-plugins-message-container"},Ye={class:"fv-help-block"},Ze={class:"fv-row mb-7"},Je=t("label",{class:"form-label fw-bold text-dark fs-6"},"Email",-1),Ke={class:"fv-plugins-message-container"},Xe={class:"fv-help-block"},et={class:"fv-row mb-7"},tt=t("label",{class:"form-label fw-bold text-dark fs-6"},"Phone number",-1),st={class:"fv-plugins-message-container"},ot={class:"fv-help-block"},at={class:"mb-10 fv-row","data-kt-password-meter":"true"},it={class:"mb-1"},lt=t("label",{class:"form-label fw-bold text-dark fs-6"}," Password ",-1),nt={class:"position-relative mb-3"},rt={class:"fv-plugins-message-container"},ct={class:"fv-help-block"},dt=t("div",{class:"d-flex align-items-center mb-3","data-kt-password-meter-control":"highlight"},[t("div",{class:"flex-grow-1 bg-secondary bg-active-success rounded h-5px me-2"}),t("div",{class:"flex-grow-1 bg-secondary bg-active-success rounded h-5px me-2"}),t("div",{class:"flex-grow-1 bg-secondary bg-active-success rounded h-5px me-2"}),t("div",{class:"flex-grow-1 bg-secondary bg-active-success rounded h-5px"})],-1),mt=t("div",{class:"text-muted"}," Use 8 or more characters with a mix of letters, numbers & symbols. ",-1),ut={class:"fv-row mb-5"},ht=t("label",{class:"form-label fw-bold text-dark fs-6"},"Confirm Password",-1),pt={class:"fv-plugins-message-container"},ft={class:"fv-help-block"},vt={class:"fv-row mb-10"},bt={class:"form-check form-check-custom form-check-solid"},gt=t("span",{class:"form-check-label fw-semobold text-gray-700 fs-6"},[k(" I Agree & "),t("a",{href:"#",class:"ms-1 link-primary"},"Terms and conditions"),k(". ")],-1),_t={class:"text-center"},wt={id:"kt_sign_up_submit",ref:"submitButton",type:"submit",class:"btn btn-lg btn-primary"},kt=t("span",{class:"indicator-label"}," Submit ",-1),yt=t("span",{class:"indicator-progress"},[k(" Please wait... "),t("span",{class:"spinner-border spinner-border-sm align-middle ms-2"})],-1),St=[kt,yt];function Ct(s,e,a,c,l,m){const u=y("router-link"),n=y("Field"),h=y("ErrorMessage"),r=y("VForm");return v(),f("div",se,[i(r,{class:"form w-100 fv-plugins-bootstrap5 fv-plugins-framework",novalidate:"",onSubmit:s.onSubmitRegister,id:"kt_login_signup_form","validation-schema":s.registration},{default:_(()=>[t("div",oe,[ae,t("div",ie,[k(" Already have an account? "),i(u,{to:"/sign-in",class:"link-primary fw-bold"},{default:_(()=>[k(" Sign in here ")]),_:1})])]),t("div",le,[t("div",ne,[re,i(n,{class:"form-control form-control-lg form-control-solid",type:"text",modelValue:s.newCustomerData.firstName,"onUpdate:modelValue":e[0]||(e[0]=o=>s.newCustomerData.firstName=o),placeholder:"",name:"firstName",autocomplete:"off"},null,8,["modelValue"]),t("div",ce,[t("div",de,[i(h,{name:"firstName"})])])]),t("div",me,[ue,i(n,{class:"form-control form-control-lg form-control-solid",type:"text",placeholder:"",modelValue:s.newCustomerData.lastName,"onUpdate:modelValue":e[1]||(e[1]=o=>s.newCustomerData.lastName=o),name:"lastName",autocomplete:"off"},null,8,["modelValue"]),t("div",he,[t("div",pe,[i(h,{name:"lastName"})])])]),t("div",fe,[t("div",ve,[be,i(n,{modelValue:s.newCustomerData.title,"onUpdate:modelValue":e[2]||(e[2]=o=>s.newCustomerData.title=o),name:"title",class:"form-select form-control form-control-lg form-control-solid",as:"select"},{default:_(()=>[ge,_e,we,ke,ye]),_:1},8,["modelValue"]),t("div",Se,[t("div",Ce,[i(h,{name:"title"})])])]),t("div",De,[Ee,i(n,{modelValue:s.newCustomerData.gender,"onUpdate:modelValue":e[3]||(e[3]=o=>s.newCustomerData.gender=o),name:"gender",class:"form-select form-control form-control-lg form-control-solid",as:"select"},{default:_(()=>[Ve,Ne,qe]),_:1},8,["modelValue"]),t("div",Ae,[t("div",Ue,[i(h,{name:"gender"})])])])]),t("div",Le,[xe,i(n,{modelValue:s.newCustomerData.address,"onUpdate:modelValue":e[5]||(e[5]=o=>s.newCustomerData.address=o),name:"address",rules:"required"},{default:_(({field:o})=>[G(t("textarea",j({type:"text"},o,{class:"form-control form-control-solid",placeholder:"Address",name:"address",required:"","onUpdate:modelValue":e[4]||(e[4]=q=>s.newCustomerData.address=q)}),null,16),[[z,s.newCustomerData.address]]),t("div",Fe,[t("div",Ie,[i(h,{name:"address"})])])]),_:1},8,["modelValue"])]),t("div",Qe,[Me,i(n,{modelValue:s.newCustomerData.state,"onUpdate:modelValue":e[6]||(e[6]=o=>s.newCustomerData.state=o),name:"state",class:"form-select form-control form-control-lg form-control-solid",as:"select"},{default:_(()=>[Te,(v(!0),f(S,null,N(s.statesInNigeria,o=>(v(),f("option",{key:o.code,value:o.name},C(o.name),9,Be))),128))]),_:1},8,["modelValue"]),t("div",Pe,[t("div",$e,[i(h,{name:"state"})])])]),t("div",Oe,[Re,i(n,{modelValue:s.newCustomerData.city,"onUpdate:modelValue":e[7]||(e[7]=o=>s.newCustomerData.city=o),name:"city",class:"form-select form-control form-control-lg form-control-solid",as:"select"},{default:_(()=>[s.newCustomerData.state?(v(),f("option",Ge," Select a State ")):H("",!0),s.newCustomerData.state?(v(),f(S,{key:1},[s.citiesInNigeria[s.newCustomerData.state]?(v(!0),f(S,{key:0},N(s.citiesInNigeria[s.newCustomerData.state],o=>(v(),f("option",{key:o.code,value:o.city},C(o.city),9,ze))),128)):(v(),f("option",{key:1,value:s.newCustomerData.state},C(s.newCustomerData.state),9,je))],64)):(v(),f("option",He,"Select a State First"))]),_:1},8,["modelValue"]),t("div",We,[t("div",Ye,[i(h,{name:"city"})])])])]),t("div",Ze,[Je,i(n,{class:"form-control form-control-lg form-control-solid",type:"email",placeholder:"",name:"email",modelValue:s.newCustomerData.email,"onUpdate:modelValue":e[8]||(e[8]=o=>s.newCustomerData.email=o),autocomplete:"off"},null,8,["modelValue"]),t("div",Ke,[t("div",Xe,[i(h,{name:"email"})])])]),t("div",et,[tt,i(n,{class:"form-control form-control-lg form-control-solid",type:"phone_number",placeholder:"",name:"phone_number",modelValue:s.newCustomerData.phone_number,"onUpdate:modelValue":e[9]||(e[9]=o=>s.newCustomerData.phone_number=o),autocomplete:"off"},null,8,["modelValue"]),t("div",st,[t("div",ot,[i(h,{name:"phone_number"})])])]),t("div",at,[t("div",it,[lt,t("div",nt,[i(n,{modelValue:s.newCustomerData.password,"onUpdate:modelValue":e[10]||(e[10]=o=>s.newCustomerData.password=o),class:"form-control form-control-lg form-control-solid",type:"password",placeholder:"",name:"password",autocomplete:"off"},null,8,["modelValue"]),t("div",rt,[t("div",ct,[i(h,{name:"password"})])])]),dt]),mt]),t("div",ut,[ht,i(n,{class:"form-control form-control-lg form-control-solid",type:"password",placeholder:"",name:"password_confirmation",autocomplete:"off"}),t("div",pt,[t("div",ft,[i(h,{name:"password_confirmation"})])])]),t("div",vt,[t("label",bt,[i(n,{class:"form-check-input",type:"checkbox",name:"toc",value:"1"}),gt])]),t("div",_t,[t("button",wt,St,512)])]),_:1},8,["onSubmit","validation-schema"])])}const xt=R(te,[["render",Ct]]);export{xt as default};
