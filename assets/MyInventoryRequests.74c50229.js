import{g as F}from"./assets.6f11792f.js";import"./Dropdown2.vue_vue_type_script_lang.c72317c6.js";import{T as M}from"./TableFooter.3f00d523.js";import{d as C,G as o,u as N,Y as D,c as L,l as O,m as j,a4 as V,a3 as T,_ as R,b as r,i as e,t as d,x as v,F as z,e as G,j as $,v as S,k,o as l}from"./index.f8ca9675.js";import{f as Q}from"./formatDate.672d0471.js";import"./ViewDeliveryModal.vue_vue_type_script_lang.2cdbd440.js";import{S as Y}from"./colourMaps.8403b523.js";import{d as A}from"./defaultData.9a1fdc93.js";import"./TableFooter.vue_vue_type_script_lang.5421c060.js";const H=C({name:"inventory_requests_table",components:{TableFooter:M},props:{widgetClasses:String},emits:["page-change","on-sort","on-items-select","on-items-per-page-change"],setup(t,{emit:i}){const{API_URL:g,ASSETS_URL:h}=j,f=o({}),y=o(A.DeliveryEmpty),u=o(A.DeliveryEmpty),n=o([]),c=o(10),a=o([0]),b=o(0),x=N(),{user:he,token:I,refreshProfile:fe}=x,q=o(!0),p=o(1),B=o([]);D(()=>c.value,s=>{p.value=1,i("on-items-per-page-change",s)});const E=L(()=>a.value?a.value.length<=c.value?b.value:a.value.length:0);D(()=>p.value,async s=>{const _=await P(s);n.value=_,console.log(_)});const U=s=>{p.value=s,i("page-change",s)},w=async s=>(await V.get(g+`customers/inventory/inventory-request?page=${s}`,{headers:{Authorization:`Bearer ${I}`}}).then(m=>m.data).catch(m=>{n.value=null,m.response.data.message?T.fire({text:m.response.data.message,icon:"error",buttonsStyling:!1,confirmButtonText:"Error Fetching Data!",heightAuto:!1,customClass:{confirmButton:"btn fw-semobold btn-light-danger"}}):T.fire({text:m.message,icon:"error",buttonsStyling:!1,confirmButtonText:"Error Fetching Data!",heightAuto:!1,customClass:{confirmButton:"btn fw-semobold btn-light-danger"}})})).data,P=async s=>typeof s=="number"?await w(s):await w(1);return O(async()=>{const s=await P(1);f.value=s,n.value=s.data,b.value=s.total,p.value=s.current_page}),{checkedRows:B,getAssetPath:F,pageChange:U,currentPage:p,itemsPerPage:c,totalDeliveries:a,totalItems:E,dataToDisplay:n,itemsPerPageDropdownEnabled:q,ASSETS_URL:h,editProfileData:y,viewDeliveryData:u,formatDate:Q,STATUS_COLOUR_MAP:Y}}}),J={class:"card-header border-0 pt-5"},K={class:"card-title align-items-start flex-column"},W=e("span",{class:"card-label fw-bold fs-3 mb-1"},"Inventory Application Request",-1),X={class:"text-muted mt-1 fw-semobold fs-7"},Z={class:"card-body py-3"},ee={key:0,class:"d-flex align-items-center justify-content-center w-100 py-5"},te=e("h4",null,"No Records",-1),se=[te],ae={key:1,class:"d-flex align-items-center justify-content-center w-100 py-5"},oe=e("div",{class:"spinner-border spinner-border-sm align-middle ms-2 w-25px h-25px"},null,-1),ne=[oe],re={key:2,class:"table-responsive"},le={class:"table table-row-bordered table-row-gray-100 align-middle gs-0 gy-3"},ie=e("thead",null,[e("tr",{class:"fw-bold text-muted"},[e("th",{class:"min-w-150px"},"Request Id"),e("th",{class:"min-w-120px"},"Pickup Address"),e("th",{class:"min-w-140px"},"Request Description"),e("th",{class:"min-w-120px"},"Quantity"),e("th",{class:"min-w-120px"},"Status")])],-1),ce={class:"text-dark fw-bold text-hover-primary fs-6"},de={class:"px-10"};function ue(t,i,g,h,f,y){var n,c;const u=k("TableFooter");return l(),r("div",{class:S([t.widgetClasses,"card"])},[e("div",J,[e("h3",K,[W,e("span",X,d(t.totalItems)+" Requests",1)])]),e("div",Z,[t.dataToDisplay===null?(l(),r("div",ee,se)):v("",!0),!((n=t.dataToDisplay)!=null&&n.length)&&t.dataToDisplay?(l(),r("div",ae,ne)):v("",!0),((c=t.dataToDisplay)==null?void 0:c.length)&&t.dataToDisplay?(l(),r("div",re,[e("table",le,[ie,e("tbody",null,[(l(!0),r(z,null,G(t.dataToDisplay,a=>(l(),r("tr",{key:a.id},[e("td",ce,d(a.id),1),e("td",null,d(a.pickup_address),1),e("td",null,d(a.request_description),1),e("td",null,d(a.quantity),1),e("td",null,[e("span",{class:S([`badge-light-${a.status?t.STATUS_COLOUR_MAP[a.status].color:"gray"}`,"badge"])},d(a.status),3)])]))),128))])]),e("div",de,[$(u,{onPageChange:t.pageChange,"current-page":t.currentPage,itemsPerPage:t.itemsPerPage,"onUpdate:itemsPerPage":i[0]||(i[0]=a=>t.itemsPerPage=a),count:t.totalItems,"items-per-page-dropdown-enabled":t.itemsPerPageDropdownEnabled},null,8,["onPageChange","current-page","itemsPerPage","count","items-per-page-dropdown-enabled"])])])):v("",!0)])],2)}const pe=R(H,[["render",ue]]),me=C({name:"delivery_records",components:{MyInventoryRequestsTable:pe},props:{},setup(){return{}}});function ge(t,i,g,h,f,y){const u=k("MyInventoryRequestsTable");return l(),r("div",null,[$(u,{"widget-classes":"mb-5 mb-xl-8"})])}const Ae=R(me,[["render",ge]]);export{Ae as default};
